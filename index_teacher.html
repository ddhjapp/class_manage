<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="assets/jquery/1.12.2/jquery-1.12.2.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/mui/js/mui.min.js"></script>
		<link href="assets/mui/css/mui.css" rel="stylesheet" />
		<link href="assets/mui/css/icons-extra.css" rel="stylesheet" />
		<script src="assets/purl.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/commons/js/index.js"></script>
		<script type="text/javascript">
			mui.plusReady(function() {
				var sessionUser = localStorage.getItem(session_.user_info);
				if(sessionUser != null) {
					var userInfo = JSON.parse(sessionUser);
					var type = userInfo.data.type;
					Index.grid(type);
				} else {
					mui.openWindow({ // 登录
						url: '/htm/reg/login.html',
						id: 'w_login'
					});
				}
			});
		</script>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<h1 class="mui-title">课程互动</h1>
		</header>
		<nav class="mui-bar mui-bar-tab">
			<a id="nav-index" class="mui-tab-item mui-active" href="javascript:void(0)">
				<span class="mui-icon mui-icon-home"></span>
				<span class="mui-tab-label">首页</span>
			</a>
			<a id="nav-course" class="mui-tab-item" href="javascript:void(0)">
				<span style="font-size: 20px;" class="mui-icon mui-icon-extra mui-icon-extra-order"></span>
				<span class="mui-tab-label">课程表</span>
			</a>
			<a id="nav-faq" class="mui-tab-item" href="javascript:void(0)">
				<span class="mui-icon mui-icon-chatbubble"></span>
				<span class="mui-tab-label">答疑</span>
			</a>
			<a id="nav-userCenter" class="mui-tab-item" href="javascript:void(0)">
				<span class="mui-icon mui-icon-contact"></span>
				<span class="mui-tab-label">我的</span>
			</a>
		</nav>
		<div class="mui-content">
			<div id="slider" class="mui-slider">
				<div class="mui-slider-group mui-slider-loop">
					<!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a href="#">
							<img src="images/1.jpg">
							<p class="mui-slider-title">让孩子爱上英语</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="images/2.jpg">
							<p class="mui-slider-title">现代教师学导论</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="images/3.jpg">
							<p class="mui-slider-title">上班族如何买对房</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="images/4.jpg">
							<p class="mui-slider-title">创意</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="images/5.jpg">
							<p class="mui-slider-title">天才宝贝</p>
						</a>
					</div>
					<!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a href="#">
							<img src="images/1.jpg">
							<p class="mui-slider-title">让孩子爱上英语</p>
						</a>
					</div>
				</div>
				<div class="mui-slider-indicator mui-text-right">
					<div class="mui-indicator mui-active"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
				</div>
			</div>
			<!--
            	作者：zero1814@126.com
            	时间：2017-03-03
            	描述：九宫格
            -->
			<ul id="gridMenus" class="mui-table-view mui-grid-view mui-grid-9" style="background-color: white;">
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="teacher-class" href="javascript:void(0)">
						<span class="mui-icon mui-icon-home"></span>
						<div class="mui-media-body">教师开课</div>
					</a>
				</li>
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="sign" href="javascript:void(0)">
						<span class="mui-icon mui-icon-email"></span>
						<div class="mui-media-body">签到查看</div>
					</a>
				</li>
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="attendance" href="javascript:void(0)">
						<span class="mui-icon mui-icon-chatbubble"></span>
						<div class="mui-media-body">随机点人</div>
					</a>
				</li>
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="examination" href="javascript:void(0)">
						<span class="mui-icon mui-icon-location"></span>
						<div class="mui-media-body">出题</div>
					</a>
				</li>
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="answer" href="javascript:void(0)">
						<span class="mui-icon mui-icon-search"></span>
						<div class="mui-media-body">查看答题</div>
					</a>
				</li>
				<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3 teacher">
					<a id="question" href="javascript:void(0)">
						<span class="mui-icon mui-icon-phone"></span>
						<div class="mui-media-body">查看提问</div>
					</a>
				</li>
			</ul>
		</div>
	</body>
	<script src="assets/commons/js/nav.js"></script>
	<script type="text/javascript" charset="utf-8">
		mui.init();
		var slider = mui("#slider"); // 加载轮播图
		slider.slider({
			interval: 5000
		});

		// tap为mui封装的单击事件
		document.getElementById("teacher-class").addEventListener('tap', function() {
			//var sessionUser = sessionStorage.getItem(session_.user_info);
			var sessionUser = localStorage.getItem(session_.user_info);
			console.log('teacher open class:' + sessionUser);
			if(sessionUser != null) {
				mui.openWindow({ // 教师课程列表
					url: 'htm/teacher/lesson_list.html',
					id: 'w_class_list'
				});
			} else {
				mui.openWindow({ // 登录
					url: 'htm/reg/login.html',
					id: 'w_login'
				});
			}
		})

		// 签到查看 
		document.getElementById("sign").addEventListener('tap', function() {
			var sessionUser = localStorage.getItem(session_.user_info);
			if(sessionUser != null) {
				mui.openWindow({
					url: 'htm/sign/lesson_list.html',
					id: 'w_sign_lesson_list'
				});
			} else {
				mui.openWindow({ // 登录
					url: 'htm/reg/login.html',
					id: 'w_login'
				});
			}
		})

		// 随机点人 
		document.getElementById("attendance").addEventListener('tap', function() {
			//			localStorage.setItem("lcode" , "l1");
			var sessionUser = localStorage.getItem(session_.user_info);
			if(sessionUser != null) {
				mui.openWindow({
					url: 'htm/rollcall/class_list.html',
					id: 'w_question_lesson_list'
				});
			} else {
				mui.openWindow({ // 登录
					url: 'htm/reg/login.html',
					id: 'w_login'
				});
			}
		})

		// 出题
		document.getElementById("examination").addEventListener('tap', function() {
			var sessionUser = localStorage.getItem(session_.user_info);
			if(sessionUser != null) {
				mui.openWindow({
					url: 'htm/question/lesson_list.html',
					id: 'w_question_lesson_list'
				});
			} else {
				mui.openWindow({ // 登录
					url: 'htm/reg/login.html',
					id: 'w_login'
				});
			}
		})

		// 查看答题
		document.getElementById("answer").addEventListener('tap', function() {
			var sessionUser = localStorage.getItem(session_.user_info);
			if(sessionUser != null) {
				mui.openWindow({
					url: 'htm/inspection/lesson_list.html',
					id: 'w_inspection_lesson_list'
				});
			} else {
				mui.openWindow({ // 登录
					url: 'htm/reg/login.html',
					id: 'w_login'
				});
			}
		})
	</script>

</html>